[#s4,reftext=S.4]
=== (S.4) Detailed usage scenarios

ifdef::env-draft[]
TIP: _Examples of interaction between the environment (or human users) and the system, expressed as user stories. Such scenarios are not by themselves a substitute for precise descriptions of functionality (<<s3>>), but provide an important complement by specifying cases that these behavior descriptions must support; they also serve as a basis for developing test cases. The scenarios most relevant for stakeholders are given in chapter <<g5>> in the Goals book, at a general level, as use cases; in contrast, <<s4>> can refer to system components and functionality (from other chapters of the System book) as well as special and erroneous cases, and introduce more specific scenarios._  <<BM22>>
endif::[]

[#s4-1,reftext=S.4.1]
==== (S.4.1) Login

.Normal flow
* The scholar navigates to the login page.
* The scholar enters a valid username and password.
* The system validates the credentials against the user database.
* Access is granted; the scholar is directed to the main dashboard.

.Alternate flow
* If the scholar has no account, they click "Create Account" and complete registration (name, institutional email, password).
* If the scholar has forgotten a password, they click "Forgot Password" to receive a reset link by email.

.Error flow
* If invalid credentials are entered, the system denies access and displays: "Invalid username or password. Please try again."
* After 5 failed attempts, the account is temporarily locked for 15 minutes.


[#s4-2,reftext=S.4.2]
==== (S.4.2) Fragment Orientation and Preparation

**Normal flow**
* The scholar uploads one or more digitized manuscript images (JPG, PNG, TIFF).
* The scholar clicks "Normalize Images."
* The system cleans the images (crop, remove background noise, standardize resolution).
* The system regularizes fragment orientation (align text horizontally ±5°).
* The system notifies the scholar that the images are ready.

**Alternate flow**
* If metadata (e.g., EXIF orientation tags) is available, the system uses it to assist orientation.
* The scholar may manually adjust orientation if the automated correction is unsatisfactory.

**Error flow**
* If a file type is unsupported, the system rejects it and displays: "Unsupported format. Please upload JPG, PNG, or TIFF."
* If an image upload fails due to size limits, the system prompts: "File exceeds maximum size of 50 MB."


[#s4-3,reftext=S.4.3]
==== (S.4.3) Fragment Matching and Reconstruction

**Normal flow**
* The scholar selects a fragment.
* The scholar requests "Find Matches."
* The system analyzes edges, shapes, and damage patterns.
* The system generates a ranked list of probable matches (with similarity scores).
* The scholar inspects the matches and accepts or rejects each suggestion.

**Alternate flow**
* The scholar may adjust sensitivity thresholds (e.g., only show matches above 0.8 probability).
* The scholar may compare two fragments side by side.

**Error flow**
* If no probable matches are found, the system displays: "No strong matches detected. Try lowering the match threshold."
* If processing fails due to corrupted images, the system flags them and skips analysis.


[#s4-4,reftext=S.4.4]
==== (S.4.4) Script Identification

**Normal flow**
* The scholar views a fragment.
* The system analyzes visible text features.
* The system classifies the fragment’s script (e.g., Gupta Brahmi, Tibetan Uchen, Chinese).
* The classification result and confidence score are displayed.

**Alternate flow**
* The scholar may override the system’s classification with a manual label.

**Error flow**
* If the system cannot classify with ≥50% confidence, it displays: "Script could not be determined. Manual input required."


[#s4-5,reftext=S.4.5]
==== (S.4.5) Transcription Assistance

**Normal flow**
* The scholar opens a fragment.
* The scholar requests transcription.
* The system applies OCR tuned for ancient manuscripts.
* The transcription is displayed alongside the fragment image.
* The scholar edits and annotates the transcription.

**Alternate flow**
* The scholar may export the transcription as text or XML.
* The scholar may request partial transcription (e.g., line by line).

**Error flow**
* If OCR confidence is <70%, the system highlights uncertain characters in red.
* If OCR fails entirely, the system prompts: "Unable to transcribe. Please attempt manual transcription."


[#s4-6,reftext=S.4.6]
==== (S.4.6) Database Search and Exploration

**Normal flow**
* The scholar opens the database search interface.
* The scholar enters a query (e.g., "Gupta script, 5+ lines").
* The system retrieves and displays relevant fragments.
* The scholar sorts, filters, and links fragments as needed.

**Alternate flow**
* The scholar may export results to CSV or PDF.
* The scholar may save queries for future use.

**Error flow**
* If the query is invalid, the system prompts: "Invalid search format. Please correct your query."
* If no results match, the system displays: "No fragments found matching your criteria."
